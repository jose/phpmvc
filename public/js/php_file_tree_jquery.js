/*

	== PHP FILE TREE JAVASCRIPT EXTENSION ==
		
		Based on the Expandable Listmenu Script by Daniel Nolan
		http://www.bleedingego.co.uk/webdev.php
		
		Modified by Cory S.N. LaViska
		http://abeautifulsite.net/
		
	== WHAT IT DOES ==
	
		This script makes the nested lists created by PHP File Tree expand and 
		collapse dynamically.
		
	== USAGE ==
	
		Include the script into the <head></head> section of the appropriate 
		page(s) as shown below:
	
			<script src="php_file_tree.js" type="text/javascript"></script>
			
		All file trees generated by PHP File Tree will automatically collapse to 
		the top level (as specified by $directory) and become dynamic.

	== FAQS ==
	
		Q Can I have more than one file tree on one page?
		A Yes.  You can have as many as you want and they will all function as expected.
		
*/

$(document).ready( function() {
	// Hide every element
	$(".php-file-tree").find("UL").hide();
	// Only open directory element
	$(".php-file-tree").find("UL").first().show();

	// Expand/collapse on click
	$(".pft-directory A.expand").click( function() {
		if ($(this).children().first().attr("class") == "glyphicon glyphicon-triangle-right") // expand
			$(this).children().first().removeClass('glyphicon-triangle-right').addClass('glyphicon-triangle-bottom');
		else // collapse
			$(this).children().first().removeClass('glyphicon-triangle-bottom').addClass('glyphicon-triangle-right');

		$(this).parent().children("UL").slideToggle(0); // animation
		return true;
	});
});
